{"ast":null,"code":"var _jsxFileName = \"/Users/24khushi/Desktop/KBCHAT/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport keycloak from \"./keycloakConfig\";\nimport ChatwootWidget from \"./Chatwoot\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CHATWOOT_API_URL = \"http://localhost:3000/api/v1\"; // Replace if running remotely\nconst CHATWOOT_API_KEY = \"ExxBwFzRFtia8TiA8gv8pYrC\"; // Replace with your actual API key\n\nconst App = () => {\n  _s();\n  var _keycloak$tokenParsed;\n  const [authenticated, setAuthenticated] = useState(false);\n  useEffect(() => {\n    console.log(\"Initializing Keycloak...\");\n    keycloak.init({\n      onLoad: \"login-required\",\n      checkLoginIframe: false\n    }).then(auth => {\n      setAuthenticated(auth);\n      console.log(\"Keycloak initialized:\", auth);\n    }).catch(err => {\n      console.error(\"Keycloak initialization failed:\", err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: authenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome-banner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Welcome, \", (_keycloak$tokenParsed = keycloak.tokenParsed) === null || _keycloak$tokenParsed === void 0 ? void 0 : _keycloak$tokenParsed.preferred_username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You are now securely logged in and ready to explore our Knowledge Base.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Browse our articles and if you have any questions, simply type\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"/ask\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this), \" followed by your question in the chat below.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ChatwootWidget, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"redirecting\",\n      children: \"Redirecting to login...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"+nyo0O1WmcKNkwQZH3xRKUoDvQ8=\");\n_c = App;\nexport default App;\n\n// import React, { useEffect, useState } from \"react\";\n// import keycloak from \"./keycloakConfig\";\n// import SearchComponent from \"./SearchComponent\"; // ✅ Import SearchComponent\n// import \"./App.css\"; // ✅ Import CSS file\n// import axios from \"axios\";\n// import ChatwootWidget from './Chatwoot'\n\n// const CHATWOOT_API_URL = \"http://localhost:3000/api/v1\"; // ✅ Replace if running remotely\n// const CHATWOOT_API_KEY = \"ExxBwFzRFtia8TiA8gv8pYrC\"; // ✅ Replace with actual API key\n\n// const App = () => {\n//   const [authenticated, setAuthenticated] = useState(false);\n//   const [query, setQuery] = useState(\"\");\n\n//   useEffect(() => {\n//     console.log(\"Initializing Keycloak...\");\n//     keycloak\n//       .init({\n//         onLoad: \"login-required\",\n//         checkLoginIframe: false,\n//       })\n//       .then((auth) => {\n//         setAuthenticated(auth);\n//         console.log(\"Keycloak initialized:\", auth);\n//       })\n//       .catch((err) => {\n//         console.error(\"Keycloak initialization failed:\", err);\n//       });\n//   }, []);\n\n//   // ✅ Send an `/ask` Query to Chatwoot\n//   const sendQuery = async () => {\n//     try {\n//       await axios.post(\n//         `${CHATWOOT_API_URL}/accounts/1/messages`,\n//         {\n//           content: `/ask ${query}`,\n//           message_type: \"incoming\",\n//         },\n//         {\n//           headers: { Authorization: `Bearer ${CHATWOOT_API_KEY}` },\n//         }\n//       );\n//       console.log(\"Query sent!\");\n//     } catch (error) {\n//       console.error(\"Error sending query:\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"app-container\">\n//       {console.log(authenticated)}\n//       {authenticated ? (\n//         <>\n//           <h2 className=\"welcome\">\n//             Welcome {keycloak.tokenParsed?.preferred_username}!\n//           </h2>\n\n//           <div>\n//             <ChatwootWidget />\n//           </div>\n//         </>\n//       ) : (\n//         <h2 className=\"redirecting\">Redirecting to login...</h2>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","keycloak","ChatwootWidget","jsxDEV","_jsxDEV","Fragment","_Fragment","CHATWOOT_API_URL","CHATWOOT_API_KEY","App","_s","_keycloak$tokenParsed","authenticated","setAuthenticated","console","log","init","onLoad","checkLoginIframe","then","auth","catch","err","error","className","children","tokenParsed","preferred_username","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/24khushi/Desktop/KBCHAT/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport keycloak from \"./keycloakConfig\";\nimport ChatwootWidget from \"./Chatwoot\";\nimport \"./App.css\";\n\nconst CHATWOOT_API_URL = \"http://localhost:3000/api/v1\"; // Replace if running remotely\nconst CHATWOOT_API_KEY = \"ExxBwFzRFtia8TiA8gv8pYrC\"; // Replace with your actual API key\n\nconst App = () => {\n  const [authenticated, setAuthenticated] = useState(false);\n\n  useEffect(() => {\n    console.log(\"Initializing Keycloak...\");\n    keycloak\n      .init({\n        onLoad: \"login-required\",\n        checkLoginIframe: false,\n      })\n      .then((auth) => {\n        setAuthenticated(auth);\n        console.log(\"Keycloak initialized:\", auth);\n      })\n      .catch((err) => {\n        console.error(\"Keycloak initialization failed:\", err);\n      });\n  }, []);\n\n  return (\n    <div className=\"app-container\">\n      {authenticated ? (\n        <>\n          <div className=\"welcome-banner\">\n            <h1>Welcome, {keycloak.tokenParsed?.preferred_username}!</h1>\n            <p>\n              You are now securely logged in and ready to explore our Knowledge\n              Base.\n            </p>\n            <p>\n              Browse our articles and if you have any questions, simply type{\" \"}\n              <strong>/ask</strong> followed by your question in the chat below.\n            </p>\n          </div>\n          {/* The Chatwoot widget is rendered right here, as a separate component */}\n          <ChatwootWidget />\n        </>\n      ) : (\n        <h2 className=\"redirecting\">Redirecting to login...</h2>\n      )}\n    </div>\n  );\n  \n};\n\nexport default App;\n\n// import React, { useEffect, useState } from \"react\";\n// import keycloak from \"./keycloakConfig\";\n// import SearchComponent from \"./SearchComponent\"; // ✅ Import SearchComponent\n// import \"./App.css\"; // ✅ Import CSS file\n// import axios from \"axios\";\n// import ChatwootWidget from './Chatwoot'\n\n// const CHATWOOT_API_URL = \"http://localhost:3000/api/v1\"; // ✅ Replace if running remotely\n// const CHATWOOT_API_KEY = \"ExxBwFzRFtia8TiA8gv8pYrC\"; // ✅ Replace with actual API key\n\n// const App = () => {\n//   const [authenticated, setAuthenticated] = useState(false);\n//   const [query, setQuery] = useState(\"\");\n\n//   useEffect(() => {\n//     console.log(\"Initializing Keycloak...\");\n//     keycloak\n//       .init({\n//         onLoad: \"login-required\",\n//         checkLoginIframe: false,\n//       })\n//       .then((auth) => {\n//         setAuthenticated(auth);\n//         console.log(\"Keycloak initialized:\", auth);\n//       })\n//       .catch((err) => {\n//         console.error(\"Keycloak initialization failed:\", err);\n//       });\n//   }, []);\n\n//   // ✅ Send an `/ask` Query to Chatwoot\n//   const sendQuery = async () => {\n//     try {\n//       await axios.post(\n//         `${CHATWOOT_API_URL}/accounts/1/messages`,\n//         {\n//           content: `/ask ${query}`,\n//           message_type: \"incoming\",\n//         },\n//         {\n//           headers: { Authorization: `Bearer ${CHATWOOT_API_KEY}` },\n//         }\n//       );\n//       console.log(\"Query sent!\");\n//     } catch (error) {\n//       console.error(\"Error sending query:\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"app-container\">\n//       {console.log(authenticated)}\n//       {authenticated ? (\n//         <>\n//           <h2 className=\"welcome\">\n//             Welcome {keycloak.tokenParsed?.preferred_username}!\n//           </h2>\n          \n          \n//           <div>\n//             <ChatwootWidget />\n//           </div>\n//         </>\n//       ) : (\n//         <h2 className=\"redirecting\">Redirecting to login...</h2>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}