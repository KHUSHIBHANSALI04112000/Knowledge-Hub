{"ast":null,"code":"var _jsxFileName = \"/Users/24khushi/Desktop/KBCHAT/client/src/SearchComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./SearchComponent.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchComponent = () => {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [searched, setSearched] = useState(false);\n  const handleSearch = async () => {\n    try {\n      setError(\"\");\n      setResults([]);\n      setSearched(true);\n      const response = await fetch(\"http://localhost:3200/search\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          query\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        var _data$data, _data$data$pages, _data$data$pages$sear;\n        const searchResults = ((_data$data = data.data) === null || _data$data === void 0 ? void 0 : (_data$data$pages = _data$data.pages) === null || _data$data$pages === void 0 ? void 0 : (_data$data$pages$sear = _data$data$pages.search) === null || _data$data$pages$sear === void 0 ? void 0 : _data$data$pages$sear.results) || [];\n        setResults(searchResults);\n        if (searchResults.length === 0) {\n          setError(\"No results found.\");\n        }\n      } else {\n        setError(data.error || \"Search failed.\");\n      }\n    } catch (err) {\n      setError(\"Server error, please try again later.\");\n    }\n  };\n  const handleInputChange = e => {\n    const newQuery = e.target.value;\n    setQuery(newQuery);\n    if (newQuery.trim() === \"\") {\n      setResults([]);\n      setError(\"\");\n      setSearched(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Search Wiki Pages\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: query,\n        onChange: handleInputChange,\n        placeholder: \"Enter search keyword...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 23\n    }, this), searched && results.length === 0 && !error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-results\",\n      children: \"No results found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 60\n    }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: results.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), \" -\", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `http://localhost:3001/${item.path}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: item.path\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(SearchComponent, \"2tAz/wEg8aNPBhW7yQ2EJIwoV3U=\");\n_c = SearchComponent;\nexport default SearchComponent;\nvar _c;\n$RefreshReg$(_c, \"SearchComponent\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SearchComponent","_s","query","setQuery","results","setResults","error","setError","searched","setSearched","handleSearch","response","fetch","method","headers","body","JSON","stringify","data","json","ok","_data$data","_data$data$pages","_data$data$pages$sear","searchResults","pages","search","length","err","handleInputChange","e","newQuery","target","value","trim","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onClick","map","item","title","href","path","rel","id","_c","$RefreshReg$"],"sources":["/Users/24khushi/Desktop/KBCHAT/client/src/SearchComponent.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./SearchComponent.css\"; \n\nconst SearchComponent = () => {\n    const [query, setQuery] = useState(\"\");\n    const [results, setResults] = useState([]);\n    const [error, setError] = useState(\"\");\n    const [searched, setSearched] = useState(false);\n\n    const handleSearch = async () => {\n        try {\n            setError(\"\");\n            setResults([]);\n            setSearched(true);\n            \n            const response = await fetch(\"http://localhost:3200/search\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ query }),\n            });\n\n            const data = await response.json();\n            \n            if (response.ok) {\n                const searchResults = data.data?.pages?.search?.results || [];\n                setResults(searchResults);\n\n                if (searchResults.length === 0) {\n                    setError(\"No results found.\");\n                }\n            } else {\n                setError(data.error || \"Search failed.\");\n            }\n        } catch (err) {\n            setError(\"Server error, please try again later.\");\n        }\n    };\n\n    const handleInputChange = (e) => {\n        const newQuery = e.target.value;\n        setQuery(newQuery);\n        if (newQuery.trim() === \"\") {\n            setResults([]);\n            setError(\"\");\n            setSearched(false);\n        }\n    };\n\n    return (\n        <div className=\"container\">\n            <h2>Search Wiki Pages</h2>\n            <div className=\"input-group\">\n                <input \n                    type=\"text\"\n                    value={query}\n                    onChange={handleInputChange}\n                    placeholder=\"Enter search keyword...\"\n                />\n                <button onClick={handleSearch}>Search</button>\n            </div>\n\n            {error && <p className=\"error\">{error}</p>}\n\n            {searched && results.length === 0 && !error && <p className=\"no-results\">No results found.</p>}\n\n            {results.length > 0 && (\n                <ul>\n                    {results.map((item) => (\n                        <li key={item.id}>\n                            <strong>{item.title}</strong> - \n                            <a href={`http://localhost:3001/${item.path}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                                {item.path}\n                            </a>\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </div>\n    );\n};\n\nexport default SearchComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}